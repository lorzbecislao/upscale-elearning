import{e as j,l as D,o as g,b as P,w as k,d as e,h as C,j as R,u,a as d,c as q,i as T,v as F,t as f,F as $,k as V,g as Q,q as H,r as m}from"./app-b19efd51.js";import{_ as L}from"./Pagination-87e350d7.js";import{_ as z,a as G,r as J,T as K}from"./FlashNotificationsFrontEnd-eb33766e.js";import{_ as W}from"./Modal-8b7fb719.js";import{_ as X}from"./PrimaryButton-3a9c59a6.js";import{_ as Y}from"./SecondaryButton-74dd022e.js";import{T as y}from"./TextInput-9f73cf15.js";import"./SearchSelect.vue_vue_type_style_index_0_lang-65f8e845.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                  */import"./CheckCircleIcon-8759a125.js";import"./XIcon-1b05f6c1.js";import"./dialog-4910b468.js";import"./transition-ff246cea.js";import"./v4-4a60fe23.js";const Z=e("h5",{class:"font-heading font-bold text-black-darkest"}," Update Question ",-1),ee=["onSubmit"],te={class:"pt-3"},oe=e("label",{class:"block text-sm font-medium font-heading text-dark-gray-dark"},"Question",-1),se={class:"pt-3 grid grid-cols-2 gap-2"},ne={class:"pt-6"},ae=e("label",{class:"block text-sm font-medium font-heading text-dark-gray-dark"}," Right Answer ",-1),le=["id","onInput","value"],ie=["for"],re={class:"pt-6 flex justify-end gap-3"},ue={__name:"EditQuestionModal",props:{open:Boolean,question:Object},emits:["close","refreshDataTable"],setup(h,{emit:b}){const a=h,t=j({question:a.question?a.question.question:null,option_a:a.question?a.question.option_a:null,option_b:a.question?a.question.option_b:null,option_c:a.question?a.question.option_c:null,option_d:a.question?a.question.option_d:null,answer:a.question?a.question.answer:null});D(()=>a.question,i=>{i&&(t.question=i.question,t.option_a=i.option_a,t.option_b=i.option_b,t.option_c=i.option_c,t.option_d=i.option_d,t.answer=i.answer)});function _(){b("close")}const v=()=>{t.post(route("admin.questions.update",a.question.id),{preserveScroll:!0,onSuccess:()=>{_(),b("refreshDataTable")}})},p=[{id:1,title:"A"},{id:2,title:"B"},{id:3,title:"C"},{id:4,title:"D"}];function x(i){t.type=i}return(i,n)=>(g(),P(W,{open:h.open,onClose:_},{content:k(()=>[Z,e("form",{onSubmit:Q(v,["prevent"])},[e("div",te,[oe,C(e("textarea",{class:"mt-1 form-input block w-full py-2.5 px-3 border-medium-dark focus:ring-primary border border-medium-gray font-heading rounded-md shadow-sm focus:outline-none focus:ring-1 focus:border-transparent text-sm",placeholder:"Type here...","onUpdate:modelValue":n[0]||(n[0]=o=>u(t).question=o),required:"",rows:"3"},null,512),[[R,u(t).question]])]),e("div",se,[d(y,{modelValue:u(t).option_a,"onUpdate:modelValue":n[1]||(n[1]=o=>u(t).option_a=o),label:"Option A",required:!0},null,8,["modelValue"]),d(y,{modelValue:u(t).option_b,"onUpdate:modelValue":n[2]||(n[2]=o=>u(t).option_b=o),label:"Option B",required:!0},null,8,["modelValue"]),d(y,{modelValue:u(t).option_c,"onUpdate:modelValue":n[3]||(n[3]=o=>u(t).option_c=o),label:"Option C",required:!0},null,8,["modelValue"]),d(y,{modelValue:u(t).option_d,"onUpdate:modelValue":n[4]||(n[4]=o=>u(t).option_d=o),label:"Option D",required:!0},null,8,["modelValue"])]),e("div",ne,[ae,(g(),q($,null,T(p,(o,w)=>e("div",{key:o.id,class:"inline-flex items-center mt-3"},[C(e("input",{id:o.id,onInput:c=>x(o.id),name:"options-radio",type:"radio","onUpdate:modelValue":n[5]||(n[5]=c=>u(t).answer=c),value:o.id,class:"h-4 w-4 border-gray-300 text-primary focus:ring-primary cursor-pointer"},null,40,le),[[F,u(t).answer]]),e("label",{for:o.id,class:"mx-3 block text-sm font-medium text-gray-700"},f(o.title),9,ie)])),64))]),e("div",re,[d(Y,{type:"button",onClick:_},{default:k(()=>[V(" Cancel ")]),_:1}),d(X,{class:"!px-8",type:"submit"},{default:k(()=>[V(" Update ")]),_:1})])],40,ee)]),_:1},8,["open"]))}},de={class:"px-4 sm:px-6 lg:px-8"},pe={class:"mt-8 flow-root"},ce={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},me={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},_e={class:"min-w-full divide-y divide-gray-300"},fe=e("thead",null,[e("tr",null,[e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 text-wrap"}," Question "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Options "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Answer "),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-0"},[e("span",{class:"sr-only"},"Edit")])])],-1),xe={class:"divide-y divide-gray-200"},ve={class:"text-wrap px-3 py-4 text-sm text-primary w-1/2"},ge={class:"whitespace-nowrap py-5 pl-4 pr-3 text-sm sm:pl-0"},he={class:"flex items-center"},be={class:"ml-4"},ye={class:"font-medium text-gray-900"},qe={class:"font-medium text-gray-900"},we={class:"font-medium text-gray-900"},ke={class:"font-medium text-gray-900"},$e={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},Ce={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},Ve={class:"inline-flex items-center"},Qe={__name:"QuestionDataTable",props:{courses:Array,assessment:{type:Object,default:()=>{}}},setup(h,{expose:b}){const a=h;H(()=>{c()});const t=m(null),_=m("id"),v=m("asc"),p=m([]),x=m(!1),i=m(!1),n=m(null),o=m(!1),w={icon:"check",header:null},c=(s=1)=>{axios.get("/admin/questions/data-table",{params:{assessment_id:a.assessment.id,page:s,search:t.value,sort_column:_.value,sort_direction:v.value}}).then(l=>{p.value=l.data}).catch(l=>{console.error(l)})};function S(s){t.value=s,c(1)}D([t,_,v],()=>{c()},{immediate:!0}),b({handleSearch:S,loadData:c});function B(s){if(s){const l=s.match(/page=(\d+)/),r=l?l[1]:1;c(r)}}function A(s){c(s)}function U(s){n.value=s,x.value=!0}function O(){axios.post(route("admin.questions.delete",n.value.id)).then(s=>{x.value=!1,o.value=!0,w.header="Question deleted successfully",c(1)}).catch(s=>{console.error("Delete error:",s)})}function E(s){n.value=s,i.value=!0}function M(s){return s==1?"A":s==2?"B":s==3?"C":"D"}return(s,l)=>(g(),q($,null,[e("div",de,[e("div",pe,[e("div",ce,[e("div",me,[e("table",_e,[fe,e("tbody",xe,[(g(!0),q($,null,T(p.value.data,(r,I)=>(g(),q("tr",{key:I},[e("td",ve,f(r.question),1),e("td",ge,[e("div",he,[e("div",be,[e("div",ye,"A. "+f(r.option_a),1),e("div",qe,"B. "+f(r.option_b),1),e("div",we,"C. "+f(r.option_c),1),e("div",ke,"D. "+f(r.option_d),1)])])]),e("td",$e,f(M(r.answer)),1),e("td",Ce,[e("div",Ve,[d(u(J),{onClick:N=>E(r),class:"mx-1 text-medium-gray w-5 h-5 cursor-pointer"},null,8,["onClick"]),d(K,{onClick:N=>U(r),class:"text-medium-gray cursor-pointer"},null,8,["onClick"])])])]))),128))])])])])])]),d(L,{class:"mt-4 px-2",current_page:p.value.current_page,last_page:p.value.last_page,next_page_url:p.value.next_page_url,prev_page_url:p.value.prev_page_url,path:p.value.path,pagination:p.value,search:t.value,sort_column:_.value,sort_direction:v.value,onEmitPage:B,onEmitSpecificPage:A,total_pages:p.value.total},null,8,["current_page","last_page","next_page_url","prev_page_url","path","pagination","search","sort_column","sort_direction","total_pages"]),d(z,{open:x.value,onClose:l[0]||(l[0]=r=>x.value=!1),onHandleSubmit:O},null,8,["open"]),d(ue,{open:i.value,question:n.value,onClose:l[1]||(l[1]=r=>i.value=!1),onRefreshDataTable:l[2]||(l[2]=r=>c(1))},null,8,["open","question"]),d(G,{infos:w,icon:"info",state:o.value,onClose:l[3]||(l[3]=r=>o.value=!1)},null,8,["state"])],64))}};export{Qe as default};
